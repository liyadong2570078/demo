<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
    <input type="text" name="">
    <button id="btn">点击发送短信</button>
    </body>
</html>
<script type="text/javascript">
	var btn=document.getElementById("btn");
	var count=5;
	var timer=null;//定时器的名字

	btn.onclick=function(){
		
        clearInterval(timer); //先清掉原来的定时器，不然在执行过中再点击越点越快

		this.disabled=true;
		//window.that=this;   //disabled 不可用 -
		 timer=setInterval(sendTextMessage,1000);  //设置定时器
		
		 
	}
	function sendTextMessage(){
		 count--;
		     
		 //alert(that);
		 if(count>=0){
		 	btn.innerHTML="还剩余"+count+"秒钟"
		 }else{

		 	btn.innerHTML="重新发送短信";
		 	btn.disabled=false;
		 	//console.log(count);
		 	// setTimeout(sendTextMessage,5000);
		 	clearInterval(timer); //清除定时器
		 	count=5;
		 }
	}
</script>